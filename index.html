<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Earthquake Globe</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- D3 + TopoJSON -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>

<body>

  <!-- Page 1 (Intro)-->
<header class="hero">
  <div class="hero-bg"></div>
  <h1>Shaking Across Scales: Global Earthquake Trends</h1>
  <p>
    On a planet of constant motions, hundreds of earthquakes ripple across continents and fault lines.
    While some regions rumble under dense seismic sensors and others shake almost unnoticed, most never
    make headlines. What will this entail for the distance across seismic stations? Does being in a "danger zone"
    affect us tremendously in times of danger?
  </p>
</header>


  <!-- Page 2 (Earth layers)-->
<section id="earth-structure-section" class="full-page image-page">
  <h1>Layers of Earth</h1>

  <div class="image-wrap image-hotspot-wrap" id="earth-image-wrap">
    <img
      id="earth-structure-img"
      src="images/earth.PNG"
      alt="Cross-section illustration of Earth's layers: crust, lithosphere, asthenosphere, mantle, core."
      loading="lazy"
    />

    <button class="hotspot invisible" data-name="Crust"
            data-desc="This is us! It's the solid outermost, rocky layer that contains the continental and oceanic floor." style="left:20%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Lithosphere (li·thuh·sfeer)"
            data-desc="The outermost rigid mechanical layer that is broken into tectonic plates; these move due to convection currents in the mantle underneath. " style="left:40%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Asthenosphere (uhs·theh·nuh·sfeer)"
            data-desc="This ductile region of the upper mantle flows slowly; as layers lay atop one another, differing weights cause plains to slowly shift over long time periods. " style="left:55%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Upper Mantle"
            data-desc="Hot, convecting rock that extends approximately 420 miles deep, making up most of Earth’s volume." style="left:60%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Lower Mantle"
            data-desc="A middle layer of silicate rock that slowly deforms over geological timescales given the constant immense pressure it endures." style="left:70%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Outer Core"
            data-desc="Molten iron and nickle that generates the Earth's magnetic field through convection currents; ranges from 72k to 90k degrees Fahrenheit." style="left:75%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Inner Core"
            data-desc="A solid sphere of approximately 2260 miles in diameter; it endures immense pressure, allowing it to reach temperatures higher than the sun's surface." style="left:83%; top:50%;"></button>
  </div>

    <div id="earth-layer-info" class="info-box">
      Hover over the middle of each layer or press tab to learn more.
    </div>

</section>

  <!-- Page 3 (Globe 1)-->
<section id="map-section">

  <div class="globe-column">
    <div class="globe-container globe-top">
      <p class="globe-instruction">Hover over the globes to see details.</p>
      <svg id="globe-svg-r"></svg>
    </div>

  <div class="globe-container globe-bottom-wrapper">
    <div class="legend-container">
      <div class="legend-title">Magnitude</div>
      <div class="legend-bar"></div>
      <div class="legend-labels">
        <span id="legend-max">0</span>
        <span id="legend-mid">0</span>
        <span id="legend-min">0</span>
      </div>
    </div>
  
      <svg id="globe-svg"></svg>

    </div>
  </div>

  <div class="story-column">
    <div class="story-text">
      <h2>Why Do Earthquakes Occur?</h2>

        <p>
          Earthquakes arise from several natural and anthropogenic processes that
          cause stress to accumulate and release within Earth’s crust. Below are
          the primary mechanisms that generate seismicity.
        </p>
      
        <p class="feature-instruction">Scroll inside each box for more details.</p>

      <div class="feature-boxes" aria-live="polite">

        <div class="feature-box">
          <h3>Plate Tectonics</h3>
          <p>
            Divergence, convergence, and transforming of 
            lithospheric tectonic plates accumulates stress at plate boundaries. 
            These either cumulate to seismic events or are periodically released abruptly as earthquakes 
          </p>
        </div>

        <div class="feature-box">
          <h3>Fault Lines</h3>
          <p>
            Planar fractures in the crust where accumulated stress exceed rock strength and 
            stress thresholds. Elastic energy manifests as an earthquake.
          </p>
        </div>

        <div class="feature-box">
          <h3>Seismic Waves</h3>
          <p>
            Elastic waves including P-waves (primary compressional waves) and S-waves (secondary-shear waves) transmit distinct
            propagation velocities that interact with Earth's heterogeneous materials. These influence the experienced intensity at 
            surface levels. 
          </p>
        </div>

        <div class="feature-box">
          <h3>Volcanic Activity</h3>
          <p>
            Magma movement and fluid pressure changes near volcanoes fracture surrounding rock and can trigger earthquakes 
            that often precede eruptions.
          </p>
        </div>

        <div class="feature-box">
          <h3>Human-Induced Seismicity</h3>
          <p>
            Certain human activities (injection, reservoir loading, mining) can perturb stress 
            conditions and reactivate nearby faults.
          </p>
        </div>

        <div class="feature-box">
          <h3>Crustal Adjustments</h3>
          <p>
            Long-term changes such as post-glacial rebound, sediment loading, or large-scale erosion can cause the lithosphere to
            gradually deform, re-stablishing gravitational and isostatic equilibrium. Such slow readjustments modify the crust's stress fields 
            and may be released as low-to-moderate magnitude earthquakes.
          </p>
        </div>

      </div>
    </div>
  </div>
</section>

  <div id="globe-tooltip">Drag to rotate</div>

  <!-- Page 4 (Globe 2 + Country) -->
  <section id="country-detail-section">
    <div class="globe-container">
      <svg id="globe-svg-2"></svg>
    </div>

    <div class="country-info">
      <h2 id="country-name">Click a country</h2>
      <p id="country-details">Details about the selected country will appear here.</p>

      <svg id="country-map" width="100%" height="300px"></svg>
    </div>
  </section>

  <!-- Page 5: California Earthquake Heatmap -->
  <section id="heatmap-section" class="full-page">
    <h2>California Earthquake Heatmap</h2>
    <p>Animated heatmap of earthquakes across California over time.</p>
    <div style="width: 100%; height: 80vh;">
      <iframe 
        src="CA_Heatmaps/california_earthquakes_heatmap_animated.html" 
        style="width:100%; height:100%; border:none;">
      </iframe>
    </div>
  </section>

  <!-- JS -->
  <script src="script.js" type="module"></script>

  <!-- Page navigation dots -->
<div id="page-nav">
  <span class="nav-dot" data-target="hero"></span>
  <span class="nav-dot" data-target="earth-structure-section"></span>
  <span class="nav-dot" data-target="map-section"></span>
  <span class="nav-dot" data-target="country-detail-section"></span>
  <span class="nav-dot" data-target="heatmap-section"></span>
</div>


</body>
</html>
