<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Earthquake Globe</title>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- D3 + TopoJSON -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/topojson.v3.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>

<body>

<!-- Page 1 (Intro)-->
<header id="hero" class="hero">
  <div class="hero-bg"></div> <!-- animated background -->
  <h1>Invisible Tremors, Hidden Risks</h1>
  <p>
    On a planet of constant motion, hundreds of earthquakes ripple across continents.
    While regions with dense seimic networks illuminate even the tiniest of tremors, other quakes slip 
    by unnoticed, and only a fraction make headlines. Is the real fault line hiding not beneath us, 
    but in the data we rely on? Danger often reflects where the instruments are lacking, not where the earth shakes most.
  </p>
</header>

<!-- Page 2 (Anecdote)-->
<header id="anecdote-section" class="anecdote" role="region" aria-labelledby="anecdote-date">
  <div class="anecdote-bg" aria-hidden="true">
    <div class="ripple"></div>
    <svg class="grain" width="0" height="0" aria-hidden="true">
      <filter id="noise">
        <feTurbulence baseFrequency="0.8" numOctaves="1" stitchTiles="stitch"/>
        <feColorMatrix type="saturate" values="0"/>
        <feBlend in="SourceGraphic" mode="overlay"/>
      </filter>
    </svg>
  </div>

  <div class="anecdote-inner">
    <div class="left-col">
      <div class="date-block" id="anecdote-date">
        <time datetime="2013-05-23">May 23rd, <span>2013</span></time>
        <div class="timeline-dot" aria-hidden="true"></div>
      </div>
    </div>

    <article class="content" aria-labelledby="anecdote-date">
      <h1 class="sr-only">Personal earthquake recollection</h1>

      <p class="lead"><span class="dropcap">O</span>n this day, I vividly remember experiencing my first severe earthquake. I was seventeen, sitting at my desk immersed in a video game to pass the time. My chair suddenly slid backwards, my decorations shook, and CDs dropped to the floor. I initially assumed it was my imagination until the phones of my household immediately issued an emergency alert warning everyone of a major earthquake. In the minutes that followed, news reports described the widespread panic as the public scrambled to protect themselves.</p>

      <p class="author">– Jason Limfueco</p>

      <hr class="sep" />

      <h2 class="question">How do gaps in seismic monitoring affect our understanding of earthquake risk?</h2>

      <p class="explain">In a geoscience context: if tectonic activity exists (A), then earthquakes will be recorded in that region (B). Therefore, if earthquakes are not recorded in a region (not B), this may indicate a lack of tectonic activity (not A). We will discuss the mechanics of seismic proportions and findings, illustrating a contrapositive stance.</p>
    </article>
  </div>
</header>

<!-- Page 3 (Earth layers)-->
<section id="earth-structure-section" class="full-page image-page">
  <h1>Layers of Earth</h1>

  <div class="image-wrap image-hotspot-wrap" id="earth-image-wrap">
    <img
      id="earth-structure-img"
      src="images/earth.PNG"
      alt="Cross-section illustration of Earth's layers: crust, lithosphere, asthenosphere, mantle, core."
      loading="lazy"
    />

    <button class="hotspot invisible" data-name="Crust"
            data-desc="This is us! It's the solid outermost, rocky layer that contains the continental and oceanic floor." style="left:20%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Lithosphere (li·thuh·sfeer)"
            data-desc="The outermost rigid mechanical layer that is broken into tectonic plates; these move due to convection currents in the mantle underneath. " style="left:40%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Asthenosphere (uhs·theh·nuh·sfeer)"
            data-desc="This ductile region of the upper mantle flows slowly; as layers lay atop one another, differing weights cause plains to slowly shift over long time periods. " style="left:55%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Upper Mantle"
            data-desc="Hot, convecting rock that extends approximately 420 miles deep, making up most of Earth’s volume." style="left:60%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Lower Mantle"
            data-desc="A middle layer of silicate rock that slowly deforms over geological timescales given the constant immense pressure it endures." style="left:70%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Outer Core"
            data-desc="Molten iron and nickle that generates the Earth's magnetic field through convection currents; ranges from 72k to 90k degrees Fahrenheit." style="left:75%; top:50%;"></button>

    <button class="hotspot invisible" data-name="Inner Core"
            data-desc="A solid sphere of approximately 2260 miles in diameter; it endures immense pressure, allowing it to reach temperatures higher than the sun's surface." style="left:83%; top:50%;"></button>
  </div>

    <div id="earth-layer-info" class="info-box">
      Hover over or press tab to learn more.
    </div>

</section>

<!-- Page 4 (Why Earthquakes Occur)-->
<section id="map-section" class="full-page">

  <div class="map-column">
    <p class="feature-instruction">Hover over each feature box to display.</p>

    <div id="map-wrapper" style="position: relative; width: 90%; height: 500px;">
      <!-- SVG -->
      <svg id="plate-map" width="100%" height="100%"></svg>

      <!-- Default / Feature GIF overlay -->
      <img id="feature-gif" src="gifs/evolution2.gif" alt="Feature GIF" style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: contain;
        display: block;
        pointer-events: none;
        opacity: 1;
        transition: opacity 0.25s ease;
      ">
    </div>
  </div>

  <div class="story-column">
    <div class="story-text">
      <h1>Why Do Earthquakes Occur?</h1>

      <p>
        Earthquakes arise from several natural and anthropogenic processes that
        cause stress to accumulate and release within Earth’s crust. Below are
        the primary mechanisms that generate seismicity.
      </p>

      <p class="feature-instruction">Scroll inside each feature box for more details.</p>

      <div class="feature-boxes" aria-live="polite">

        <div class="feature-box">
          <h3>Plate Tectonics</h3>
          <p>
            Divergence, convergence, and transforming of lithospheric tectonic plates accumulates stress at 
            plate boundaries. These either cumulate to seismic events or are periodically released abruptly as earthquakes.
          </p>
        </div>

        <div class="feature-box">
          <h3>Faults</h3>
          <p>
            Planar fractures in the crust where accumulated stress exceed rock strength and stress thresholds. 
            Elastic energy manifests as an earthquake.</p>
        </div>

        <div class="feature-box">
          <h3>Volcanic Activity</h3>
          <p>
            Magma movement and fluid pressure changes near volcanoes fracture surrounding rock and can 
            trigger earthquakes that often precede eruptions.</p>
        </div>

        <div class="feature-box">
          <h3>Seismic Waves</h3>
          <p>
            Elastic waves including P-waves (primary compressional waves) and S-waves (secondary-shear waves) 
            transmit distinct propagation velocities that interact with Earth's heterogeneous materials. 
            These influence the experienced intensity at surface levels.</p>
        </div>

        <div class="feature-box">
          <h3>Human-Induced Seismicity</h3>
          <p>
            Certain human activities can perturb stress conditions and reactivate nearby faults.
          </p>
        </div>

        <div class="feature-box">
          <h3>Crustal Adjustments</h3>
          <p>
            Long-term changes such as post-glacial rebound, sediment loading, or large-scale erosion 
            can cause the lithosphere to gradually deform, re-stablishing gravitational and isostatic 
            equilibrium. Such slow readjustments modify the crust's stress fields and may be released 
            as low-to-moderate magnitude earthquakes.</p>
        </div>

      </div>
    </div>
  </div>
</section>


<!-- Page 5 (2 Globes + Zoomed Country) -->

<section id="country-detail-section">
  <div class="globe-column">
    
    <!-- Put these two boxes where you want them to appear (inside .globe-column) -->
  <div class="globe-toggle-boxes">
    <div id="box-stations" class="globe-toggle-box active" data-mode="stations" role="button" tabindex="0" aria-pressed="true">
      <h4>Stations</h4>
    </div>

    <div id="box-magnitudes" class="globe-toggle-box" data-mode="earthquakes" role="button" tabindex="0" aria-pressed="false">
      <h4>Magnitudes</h4>
    </div>
  </div>


    <!-- Top globe -->
    <div class="globe-container">
      <div class="globe-title1">Seismic Network Stations</div>
      <svg id="globe-svg-r"></svg>
    </div>

    <!-- Bottom globe -->
    <div class="globe-container">
      <div class="globe-title2">Earthquake Magnitudes</div>
      <div class="legend-container">
        <div class="legend-title">Magnitude</div>
        <div class="legend-bar"></div>
        <div class="legend-labels">
          <span id="legend-max">0</span>
          <span id="legend-mid">0</span>
          <span id="legend-min">0</span>
        </div>
      </div>
      <svg id="globe-svg"></svg>
    </div>
  </div>

  <div class="country-info">
    <h2 id="country-name">Search for a country's data.</h2>
    <div class="country-search">
      <input type="text" id="country-input" placeholder="Enter a country name...">
      <button id="country-search-btn">Search</button>
    </div>
    <div id="country-info">
      <p id="country-result">Country data will appear here.</p>
    </div>
    <svg id="country-map" width="100%" height="300px"></svg>
  </div>
</section>

<!-- Page 6: (California Earthquake Heatmap) -->
<section id="heatmap-section" class="full-page">
  <h2>California Earthquake Heatmap</h2>
  <p>Animated heatmap of earthquakes across California over time.</p>

  <div class="heatmap-row">
    
    <div class="heatmap-left">
      <iframe 
        src="CA_Heatmaps/final.html">
      </iframe>
    </div>

    <div class="heatmap-features">
      <div class="feature-box1">
        <h3>Seismic Hotspots </h3>
          <p> 
            The San Andreas Fault shows the highest concentration of earthquakes. Other active 
            fault zones, such as Hayward Fault and Garlock Fault, are known as secondary clusters. 
            Hotspots reveal where ground is under most stress. Coastal areas near Los Angeles and 
            San Francisco show higher density compared to inland regions.
          </p>
      </div>
      <div class="feature-box1">
        <h3>Magnitude Distribution</h3>
        <p> 
          Northern California has smaller, frequent tremors ranging from M1-m3. Southern California appear to experience
          higher magnitude quakes. Areas with frequent minor earthquakes indicate accumulated stress along faults.
        </p>
      </div>
      <div class="feature-box1">
        <h3>Temporal Trends</h3>
        <p> Month-to-month changes vary across the state. Earthquake activity fluctuates over time,
          with clusters following major events. Regions may become more active briefly, possibly indicating aftershock
          sequences spreading near fault lines.
        </p>
      </div>
      <div class="feature-box1">
        <h3>Geographic Patterns</h3>
        <p>  
          Central and eastern California often show fewer earthquakes, appearing relatively stable with sparse earthquake activity over time.
        </p>
      </div>
    </div>
  </div>

  <div id="globe-tooltip" 
     style="
        position: absolute;
        pointer-events: none; 
        background: rgba(0,0,0,0.8); 
        color: #fff; 
        padding: 6px 10px; 
        border-radius: 4px; 
        font-size: 0.85rem;
        display: none;
        z-index: 1000;
     ">
</div>
</section>

<!-- Page 7: (News -->
<section id="news-section" class="full-page">
  <h2>Living With Earthquakes</h2>
  <p>Real experiences, reports, and takeaways for earthquake-prone regions.</p>

  <div class="flip-card-row">

    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front card1">
          <h3>Takeaways</h3>
          <p>Project Summary</p>
        </div>
        <div class="flip-card-back">
          <p> Earth's Structure: Discusses Earth's layers to understand how they directly influence the magnitude/location of earthquakes.</p>
          <p> Causes & Triggers: Explains key mechanisms for tectonic plate movement, stress accumulation/release, boundaries, and rarer triggers. </p>
          <p> Stations/Magnitudes: Exploring the network of stations and earthquakes throughout the world.</p>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front card2">
          <h3>Worldwide Stories</h3>
          <p>Global Earthquake Tragedies</p>
        </div>
        <div class="flip-card-back">
          <h3> Aug 10th, 2025:
            <a href="https://www.pbs.org/newshour/world/magnitude-6-1-earthquake-in-turkey-causes-about-a-dozen-buildings-to-collapse" target="_blank" rel="noopener noreferrer">
               Turkey
            </a>
          </h3>
          
          <h3> April 4th, 2024:
            <a href="https://www.aljazeera.com/news/2024/4/4/taiwan-says-1000-injured-in-earthquake-rescue-efforts-focus-on-hualien" target="_blank" rel="noopener noreferrer">
               Taiwan
            </a>
          </h3>

          <h3> Sep 9th, 2023:
            <a href="https://www.pbs.org/newshour/world/magnitude-6-8-earthquake-in-morocco-kills-more-than-1000-people-damages-historic-sites" target="_blank" rel="noopener noreferrer">
               Morocco
            </a>
          </h3>

          <h3> Nov 22, 2022:
            <a href="https://www.pbs.org/newshour/world/at-least-268-dead-in-indonesia-earthquake-search-for-missing-continues" target="_blank" rel="noopener noreferrer">
               Indonesia
            </a>
          </h3>

          <h3> Aug 17, 2021:
            <a href="https://www.pbs.org/newshour/world/how-to-help-haitians-after-7-2-magnitude-earthquake" target="_blank" rel="noopener noreferrer">
               Haiti
            </a>
          </h3>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front card3">
          <h3>Early Warning & Safety Tips</h3>
          <p>Recognizing and reacting</p>
        </div>
        <div class="flip-card-back">
          <p> 
            It is important to be alert of early warning detections and natural signs 
            such as unusual ground shaking or sounds. During an earthquake, if one is 
            indoors, follow the 'Drop, Cover, and Hold' procedure: drop to the ground, 
            take cover under a sturdy object while covering your head/neck, hold until 
            the shaking stops. If outdoors, find a clear open spot away from buildings 
            and power lines.
          </p>
        </div>
      </div>
    </div>

    <div class="flip-card">
      <div class="flip-card-inner">
        <div class="flip-card-front card4">
          <h3>Seismic Monitoring & Technology </h3>
          <p>Awareness, Alerts, & Action</p>
        </div>
        <div class="flip-card-back">
          <p>
            Seismic networks are used to estimate event bias, detect tremors early,
            issue warnings, study patterns, and improve overall preparedness. Early detection systems 
            provide crucial times for communities to respond quickly in emergency situations. Beyond immediate warnings,
            the collected data can help engineers design safer infrastructure, inform urban planning to reduce risks,
            and support research that improves the understanding of earthquakes. By combining awareness, 
            technology, and preparedness, we aim to reduce risks and protect lives.
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- JS -->
  <script src="script.js" type="module"></script>

  <!-- Page navigation dots -->
<div id="page-nav">
  <span class="nav-dot" data-target="hero"></span>
  <span class="nav-dot" data-target="anecdote-section"></span>
  <span class="nav-dot" data-target="earth-structure-section"></span>
  <span class="nav-dot" data-target="map-section"></span>
  <span class="nav-dot" data-target="country-detail-section"></span>
  <span class="nav-dot" data-target="heatmap-section"></span>
  <span class="nav-dot" data-target="news-section"></span>
</div>


</body>
</html>